---
import { Image } from 'astro:assets';
import heroImage from '../../assets/imgHero.png';
import { basic } from '../../config/cv.json';
---

<style>
/* Effet fade-in pour les éléments */
.fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}
.fade-in.show {
    opacity: 1;
    transform: translateY(0);
}

/* Zoom léger pour l’image au survol */
.image-zoom:hover {
    transform: scale(1.05);
    transition: transform 0.4s ease;
}

/* Animation de vibration pour le bouton */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-3px); }
    40%, 80% { transform: translateX(3px); }
}
.button-animate {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}
.button-animate:hover {
    animation: shake 0.4s ease; /* Applique l'animation de secousse au survol */
    color: black; /* Change la couleur du texte en noir au survol */
    border-color: rgb(0, 0, 0); /* Conserve l'encadrement blanc au survol */
}

/* Animation de rebond pour le titre de job */
@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    20% { transform: translateY(-10px); }
    40% { transform: translateY(-5px); }
    80% { transform: translateY(-5px); }
}
.bounce-animation {
    display: inline-block;
    animation: bounce 2s ease infinite; /* Boucle continue */
}
</style>

<section class="py-5 px-4 sm:py-10 lg:py-16">
    <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
        <div class="grid items-center grid-cols-1 gap-12 lg:grid-cols-2">
            <div class="relative flex justify-center fade-in image-zoom">
                <Image class="w-full md:max-w-md lg:max-w-md image-zoom"
                    src={heroImage}
                    alt="Selim Boubtane" />
            </div>
            <div class="fade-in">
                <h1 class="text-2xl font-bold sm:text-4xl lg:text-5xl mt-1">
                    {basic?.name}
                </h1>
                <p class="text-lg text-offset bounce-animation">
                    {basic?.job} <!-- Remplacez par "Développeur avec Expertise en Finance d'Entreprise" -->
                </p>

                <p class="mt-1 text-base sm:text-xl">
                    {basic?.summary}
                </p>

                <div class="mt-20 flex flex-col items-center space-y-1">
                    <p class="text-justify text-center">
                        Envie d'en savoir plus sur mon parcours et mes compétences ? Découvrez comment mes expériences et mes formations ont forgé mon profil :
                    </p>
                    <a href="/about"
                        class="relative inline-flex items-center justify-center px-10 py-4 text-base text-white
                            font-semibold transition-all duration-200 rounded overflow-hidden
                            animated-bg bounce-effect" role="button">
                        Découvrir mon background
                    </a>
                </div>
                
                <div class="mt-10 flex flex-col items-center space-y-4">
                    <p class="text-justify text-center">
                        Parcourez les étapes et objectifs que je me suis fixés pour progresser dans le domaine de l’informatique et atteindre mes ambitions :
                    </p>
                    <a href="/roadmap"
                        class="relative inline-flex items-center justify-center px-10 py-4 text-base text-white
                            font-semibold transition-all duration-200 rounded overflow-hidden
                            animated-bg bounce-effect" role="button">
                        Découvrir ma RoadMap
                    </a>
                </div>
                
                
                <style>
                /* Animation de fond pour les boutons */
                .animated-bg {
                    background: linear-gradient(120deg, #1b5e20, #4caf50, #1b5e20); /* Dégradé de verts */
                    background-size: 500% 200%;
                    animation: gradientMove 2.5s infinite linear;
                    color: white;
                    padding: 10px 20px;
                    border-radius: 8px;
                    text-align: center;
                    transition: background-color 5.3s ease;
                }
                
                /* Animation de mouvement du dégradé */
                @keyframes gradientMove {
                    0% { background-position: 0% 50%; }
                    100% { background-position: 100% 50%; }
                }
                
                /* Effet de rebond et changement de couleur au survol */
                .bounce-effect:hover {
                    animation: bounce 0.5s;
                    background-color: #ff6f61;
                }
                
                /* Animation de rebond */
                @keyframes bounce {
                    0%, 100% {
                        transform: translateY(0);
                    }
                    50% {
                        transform: translateY(-5px);
                    }
                }
                </style>
                
                
                <style>
                /* Animation de fond pour le bouton */
                .animated-bg {
                    background: linear-gradient(130deg, #1e40af, #4b9efcf6, #052aa3);
                    background-size: 500% 200%;
                    animation: gradientMove 1.5s infinite linear;
                    color: white;
                    padding: 15x 40px;
                    border-radius: 8px;
                    text-align: center;
                    transition: background-color 5.3s ease;
                }
                
                /* Animation de mouvement du dégradé */
                @keyframes gradientMove {
                    0% { background-position: 0% 50%; }
                    100% { background-position: 100% 50%; }
                }
                </style>
                
                
                
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const faders = document.querySelectorAll('.fade-in');
        
        const appearOptions = {
            threshold: 0.3,
            rootMargin: '0px 0px -50px 0px'
        };

        const appearOnScroll = new IntersectionObserver(function (entries, observer) {
            entries.forEach(entry => {
                if (!entry.isIntersecting) {
                    return;
                } else {
                    entry.target.classList.add('show');
                    observer.unobserve(entry.target);
                }
            });
        }, appearOptions);

        faders.forEach(fader => {
            appearOnScroll.observe(fader);
        });
    });
</script>
